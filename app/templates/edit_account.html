{% extends "base.html" %}

{% block content %}

{% if current_user.is_authenticated %}
<div class = "page-content">
  <h1>Update Your Account</h1>
  <div class="flash-notifications">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div>
      {% for message in messages %}
      <div class="flash-message">⚠️ {{ message }}</div>
      {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
  </div>
  <div class="page-form-section">
  <form action = "", method = "post">
    <p>
        <h2>{{ form.firstname.label }}</h2>
        {{ form.firstname(size=32, placeholder = user[0].full_name.split(" ")[0]) }}<br/>

        {% for error in form.firstname.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
      </p>
      <p>
        <h2>{{ form.lastname.label }}</h2>
        {{ form.lastname(size=32, placeholder = user[0].full_name.split(" ")[1]) }}<br/>

        {% for error in form.lastname.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
      </p>
      <p>
        <h2>{{ form.email.label }}</h2>
        {{ form.email(size=32, placeholder = user[0].email) }}<br/>

        {% for error in form.email.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
      </p>
      <p>
        <h2>{{ form.address.label }}</h2>
        {{ form.address(size=32, placeholder = user[0].address) }}<br/>

        {% for error in form.address.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
      </p>
      <p>
        <h2>{{ form.password.label }}</h2>
        {{ form.password(size=32)}}<br/>

        {% for error in form.password.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
      </p>
      <p>
        <h2>{{ form.password2.label }}</h2>
        {{ form.password2(size=32) }}<br/>

        {% for error in form.password2.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
      </p>
      <p>{{ form.csrf_token }}</p>
      <p>{{form.submit()}}</p>
  </form>
</div>
  </div>
{% endif %}

{% endblock %}
